2 6 2020
    docker-compose dont execute compose and artisan commands into the container
        hay que meterlos a mano en el container
            composer install
            php artisan key:generate
    
    docker-compose dont copy .env file
        cp .env.example .env

    docker-compose do not execute yarn install
    
    if a few component of vue dont apear run
        yarn dev
    
    the container do not work with the db
        the db must be created
        the .env must be configurated defore migrate

14 6 2020 
    comands tu run after the docker-compose up
        docker-compose exec app composer install
        docker-compose exec app php artisan key:generate
        docker-compose exec app php artisan config:cache
            in prod enviroment we need to create a another user to db instance root (proccess to revision)
                docker-compose exec db bash
                mysql -u root -p
                show databases;
                GRANT ALL ON shakur.* TO 'shakuruser'@'%' IDENTIFIED BY 'shakuruser';
                FLUSH PRIVILEGES;
        docker-compose exec app php artisan migrate
        docker-compose exec app php artisan db:seed
            docker-compose exec app curl -sS https://dl.yarnpkg.com/debian/pubkey.gpg | sudo apt-key add -
            ocker-compose exec app echo "deb https://dl.yarnpkg.com/debian/ stable main" | sudo tee /etc/apt/sources.list.d/yarn.list
        docker-compose exec app yarn
        docker-compose exec app yarn dev
        docker-compose exec app php artisan passport:install
        docker-compose exec app php artisan storage:link
            if the storage commands its broken remove de storage folder in public
            for the avatars works the file avatar.png need to be executable
                chmod +x avatar.png

    minikube
        view symbolics links
            ls -laR . | grep -B 5 " -> "
        delete folder with symbolics links like vendor or node_modules

        for this error
            FATA Error while deploying application: Get https://127.0.0.1:6443/api: dial tcp 127.0.0.1:6443: connect: connection refused 
            create proxy 
                kubectl proxy  --port=6443
        run kompose 
            kompose up --server http://127.0.0.1:6443
        
    kubernetes
        create deployments
            kubectl apply -f app-deployment.yaml
            kubectl apply -f webserver-deployment.yaml
            kubectl apply -f db-deployment.yaml

        create services
            kubectl apply -f db-service.yaml
            kubectl apply -f webserver-service.yaml
            kubectl apply -f app-service.yaml
        
        forward port
            the ports of cluster need to was up of 1024
            kubectl port-forward webserver-544597f54c-rg98c 8888:80

no anda el minikube, no tiene puertos

cheatshit
    acces to app container console
        sudo  docker exec -it app /bin/sh
    view logs
        run docker up without -d
    kubernetes


diff db prod vs migrates
    modifications
        table oauth_acces_tokens
            user_id(bigint) to user_id(int)
        table oauth_acces_codes
            user_id(bigint) to user_id(int)
        table oauth_clients
            user_id(bigint) to user_id(int)
        