(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"7jV7":function(e,a,r){"use strict";r.d(a,"a",function(){return i});var i=["topus","verga","pija","choto","poronga","putos","porongo","puta","idiota","concha","conchuda","conchudo","mogolico","puto","pito","chota","gadorcha","gonzaputo","chupa un huevo"]},Pczo:function(e,a,r){"use strict";r.r(a);var i=r("7jV7");var o={name:"NewUser",components:{MpSelect:()=>r.e(10).then(r.bind(null,"50zu")),ModalTerminos:()=>r.e(20).then(r.bind(null,"qcWO"))},$_veeValidate:{validator:"new"},data:()=>({checkboxPasswordNewUser:!1,badWordNameFlag:!1,badWordApellidoFlag:!1,universidades:["Seleccionar","UBA","UTN","UNLa"],usuario:{name:null,apellido:null,email:null,universidad:null,carrera_id:null,password:null,password_confirmation:null,checkCondiciones:!1},optionsUniversidad:[{id:null,description:"Seleccionar una opción",disabled:!0}],optionsCarrera:[{id:null,description:"Seleccionar una opción",disabled:!0}],urlCarrera:"",error:"",loading:!1,disabledButton:!1,textButton:"Registrarse",iconLoading:!1}),computed:{hasErrors(){return""!=this.error},typePassword(){return this.checkboxPasswordNewUser?"text":"password"}},methods:{scanMalasPalabras:e=>0==!e.trim().split(" ").filter(e=>i.a.includes(e)).length,showModalTerminos(){this.$root.$emit("bv::show::modal","terminosModal")},crearUsuario(){0==this.badWordNameFlag&&0==this.badWordApellidoFlag?1==this.usuario.checkCondiciones[0]?this.$validator.validateAll().then(e=>{e?(this.loading=!0,this.axios.post("api/auth/signup/",this.usuario).then(e=>{this.$emit("success",this.usuario.email),this.$refs.newUser.hide(),this.loading=!0})):this.error="Por favor, corrija los campos en rojo"}):this.error="Debe aceptar los terminos y condiciones":this.error="Hemos detectado lenguaje ofensivo en su nombre o apellido"},setSuccessMessage(){},getValuesSelectUniversidad(){this.axios.get("api/universidades").then(e=>{let a=_.map(e.data,e=>({id:e.id,description:e.nombre}));this.optionsUniversidad=_.union(this.optionsUniversidad,a),this.error=""}).catch(e=>{this.error="Ocurrió un error al llenar los valores de este selector"})},getValuesSelectCarrera(){this.optionsCarrera=[],this.optionsCarrera.push({id:null,description:"Seleccionar una opción",disabled:!0}),this.usuario.carrera_id=null,this.axios.get(this.urlCarrera).then(e=>{let a=_.map(e.data,e=>({id:e.id,description:e.nombre}));this.optionsCarrera=_.union(this.optionsCarrera,a),this.error=""}).catch(e=>{this.error="Ocurrió un error al llenar los valores de este selector"})},cleanModal(){this.usuario.name="",this.usuario.apellido="",this.usuario.email="",this.usuario.universidad=null,this.usuario.carrera_id=null,this.usuario.password="",this.usuario.password_confirmation="",this.error="",this.$validator.reset()}},mounted(){this.getValuesSelectUniversidad()},watch:{"usuario.universidad":function(e){this.urlCarrera="api/carreras/"+e,this.getValuesSelectCarrera()},loading:function(e){e?(this.disabledButton=!0,this.textButton="",this.iconLoading=!0):(this.disabledButton=!1,this.textButton="Resgistrarse",this.iconLoading=!1)},"usuario.name":function(e){this.badWordNameFlag=this.scanMalasPalabras(e),0==this.badWordNameFlag&&(this.error="")},"usuario.apellido":function(e){this.badWordApellidoFlag=this.scanMalasPalabras(e),0==this.badWordApellidoFlag&&(this.error="")}}},s={render:function(){var e=this,a=e.$createElement,i=e._self._c||a;return i("b-container",[i("b-modal",{ref:"newUser",attrs:{id:"newUser",title:"Crear Usuario"},on:{hide:e.cleanModal}},[i("b-form",[i("b-form-group",{attrs:{label:"Nombre:","label-for":"name"}},[i("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],class:{"is-invalid":e.errors.has("name")},attrs:{id:"name",name:"name",required:"",placeholder:"Ingresa tu nombre"},model:{value:e.usuario.name,callback:function(a){e.$set(e.usuario,"name",a)},expression:"usuario.name"}}),e._v(" "),i("b-form-invalid-feedback",[e._v("Campor requerido")])],1),e._v(" "),i("b-form-group",{attrs:{label:"Apellido:","label-for":"apellido"}},[i("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],class:{"is-invalid":e.errors.has("apellido")},attrs:{id:"apellido",name:"apellido",required:"",placeholder:"Ingresa tu apellido"},model:{value:e.usuario.apellido,callback:function(a){e.$set(e.usuario,"apellido",a)},expression:"usuario.apellido"}}),e._v(" "),i("b-form-invalid-feedback",[e._v("Campor requerido")])],1),e._v(" "),i("b-form-group",{attrs:{label:"E-mail:","label-for":"email"}},[i("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],class:{"is-invalid":e.errors.has("email")},attrs:{id:"email",name:"email",required:"",placeholder:"Ingresa tu E-mail"},model:{value:e.usuario.email,callback:function(a){e.$set(e.usuario,"email",a)},expression:"usuario.email"}}),e._v(" "),i("b-form-invalid-feedback",[e._v("Campor requerido")])],1),e._v(" "),i("b-form-group",{attrs:{label:"Contraseña:","label-for":"password"}},[i("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:8",expression:"'required|min:8'"}],ref:"password",class:{"is-invalid":e.errors.has("password")},attrs:{id:"password",name:"password",type:e.typePassword,required:"",placeholder:"Ingresa tu Contraseña"},model:{value:e.usuario.password,callback:function(a){e.$set(e.usuario,"password",a)},expression:"usuario.password"}}),e._v(" "),i("p",[e._v("La contraseña debe debe tenes minimo 8 caracteres")]),e._v(" "),i("b-form-invalid-feedback",[e._v("Campor requerido")])],1),e._v(" "),i("b-form-group",{attrs:{label:"Confirmar contraseña:","label-for":"password_confirmation"}},[i("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|confirmed:password",expression:"'required|confirmed:password'"}],class:{"is-invalid":e.errors.has("password_confirmation")},attrs:{id:"password_confirmation",name:"password_confirmation",type:e.typePassword,required:"",placeholder:"Confirma tu Contraseña"},model:{value:e.usuario.password_confirmation,callback:function(a){e.$set(e.usuario,"password_confirmation",a)},expression:"usuario.password_confirmation"}}),e._v(" "),i("b-form-invalid-feedback",[e._v("Las contraseñas no coinciden")]),e._v(" "),i("b-form-checkbox",{attrs:{id:"checkboxPasswordNewUserNewUser",name:"checkboxPasswordNewUser"},model:{value:e.checkboxPasswordNewUser,callback:function(a){e.checkboxPasswordNewUser=a},expression:"checkboxPasswordNewUser"}},[e._v("\n                            Mostrar Contraseña\n                            ")])],1),e._v(" "),i("b-form-group",{attrs:{label:"Universidad","label-for":"universidad"}},[i("b-form-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],class:{"is-invalid":e.errors.has("universidad")},attrs:{id:"universidad",options:e.optionsUniversidad,name:"universidad","text-field":"description","value-field":"id"},model:{value:e.usuario.universidad,callback:function(a){e.$set(e.usuario,"universidad",a)},expression:"usuario.universidad"}}),e._v(" "),i("b-form-invalid-feedback",[e._v("Campor requerido")])],1),e._v(" "),i("b-form-group",{attrs:{label:"Carrera","label-for":"carrera"}},[i("b-form-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],class:{"is-invalid":e.errors.has("carrera")},attrs:{id:"carrera_id",options:e.optionsCarrera,name:"carrera","text-field":"description","value-field":"id"},model:{value:e.usuario.carrera_id,callback:function(a){e.$set(e.usuario,"carrera_id",a)},expression:"usuario.carrera_id"}}),e._v(" "),i("b-form-invalid-feedback",[e._v("Campor requerido")])],1),e._v(" "),i("b-form-group",[i("b-form-checkbox-group",[i("b-form-checkbox",{attrs:{id:"checkCondiciones",name:"checkCondiciones"},model:{value:e.usuario.checkCondiciones,callback:function(a){e.$set(e.usuario,"checkCondiciones",a)},expression:"usuario.checkCondiciones"}},[i("label",[e._v("\n                        Estoy de acuerdo con los "),i("u",{staticClass:"pointer",on:{click:e.showModalTerminos}},[e._v("terminos y condiciones")])])])],1),e._v(" "),i("b-form-invalid-feedback",[e._v("Campor requerido")])],1)],1),e._v(" "),i("b-alert",{staticClass:"text-center",attrs:{show:e.hasErrors,variant:"danger"}},[e._v(e._s(e.error))]),e._v(" "),i("template",{slot:"modal-footer"},[i("button",{staticClass:"btn btn-success btn-block",attrs:{type:"submit",disabled:e.disabledButton},on:{click:e.crearUsuario}},[i("img",{directives:[{name:"show",rawName:"v-show",value:e.iconLoading,expression:"iconLoading"}],staticClass:"sizeLoading",attrs:{src:r("kotZ")}}),e._v("\n\n      "+e._s(e.textButton))])])],2),e._v(" "),i("modal-terminos")],1)},staticRenderFns:[]};var t=r("H/SE")(o,s,!1,function(e){r("vR7t")},"data-v-31ec7556",null);a.default=t.exports},oMWA:function(e,a,r){(e.exports=r("I1BE")(!1)).push([e.i,".sizeLoading[data-v-31ec7556]{width:30px}.pointer[data-v-31ec7556]{cursor:pointer}",""])},vR7t:function(e,a,r){var i=r("oMWA");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);r("SZ7m")("b386ea56",i,!0,{})}}]);