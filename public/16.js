(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{"6if8":function(t,a,e){var i=e("INkI");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);e("SZ7m")("64b27f44",i,!0,{})},INkI:function(t,a,e){(t.exports=e("I1BE")(!1)).push([t.i,".sizeLoading[data-v-5d49803a]{width:30px}",""])},wDX3:function(t,a,e){"use strict";e.r(a);var i={props:["idMateria"],$_veeValidate:{validator:"new"},data(){return{data:{descripcion:"",file:null,materia_id:this.idMateria},error:"",loading:!1,disabledButton:!1,textButton:"Reportar",iconLoading:!1}},watch:{idMateria:function(t){return t},loading:function(t){t?(this.disabledButton=!0,this.textButton="",this.iconLoading=!0):(this.disabledButton=!1,this.textButton="Reportar",this.iconLoading=!1)}},computed:{hasErrors(){return""!=this.error}},methods:{submit(){this.loading=!0,this.$validator.validateAll().then(t=>{if(t){let t=new FormData;t.append("descripcion",this.data.descripcion),t.append("materia_id",this.idMateria),t.append("files",this.data.file),_.each(this.data.file,(a,e)=>{t.append(`files[${e}]`,a)}),this.axios.post("api/reportsErrors",t).then(t=>{this.loading=!1,this.cleanModal(),this.$refs.reportError.hide()})}else this.loading=!1,this.error="Por favor, corrija los campos en rojo"})},cleanModal(){this.data.descripcion="",this.data.file=null}}},r={render:function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("b-modal",{ref:"reportError",attrs:{id:"reportError",title:"Reportar error"},on:{hide:t.cleanModal}},[i("b-container",[i("b-form",[i("b-form-group",{attrs:{label:"Descripción del error:","label-for":"descripcion"}},[i("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],class:{"is-invalid":t.errors.has("descripcion")},attrs:{id:"descripcion",placeholder:"Ingresa una descripción",name:"descripcion"},model:{value:t.data.descripcion,callback:function(a){t.$set(t.data,"descripcion",a)},expression:"data.descripcion"}}),t._v(" "),i("b-form-invalid-feedback",[t._v("Campor requerido")])],1),t._v(" "),i("b-form-group",{attrs:{label:"Adjunta una captura:","label-for":"data.file"}},[i("b-form-file",{attrs:{placeholder:"Elije un archivo",name:"inputFile[]",multiple:""},model:{value:t.data.file,callback:function(a){t.$set(t.data,"file",a)},expression:"data.file"}})],1)],1),t._v(" "),i("b-alert",{staticClass:"text-center",attrs:{show:t.hasErrors,variant:"danger"}},[t._v(t._s(t.error))])],1),t._v(" "),i("template",{slot:"modal-footer"},[i("button",{staticClass:"btn btn-success btn-block",attrs:{type:"submit",disabled:t.disabledButton},on:{click:t.submit}},[i("img",{directives:[{name:"show",rawName:"v-show",value:t.iconLoading,expression:"iconLoading"}],staticClass:"sizeLoading",attrs:{src:e("kotZ")}}),t._v("\n    "+t._s(t.textButton))])])],2)},staticRenderFns:[]};var o=e("H/SE")(i,r,!1,function(t){e("6if8")},"data-v-5d49803a",null);a.default=o.exports}}]);